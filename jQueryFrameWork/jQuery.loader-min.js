(function(c,e){var b=function(){if(arguments.length==0){return}var l=arguments[0],k=[];if(arguments[1]){if(c.isArray(arguments[1])){k=arguments[1]}else{k=h.slice.call(arguments,1)}if(!b.Eve[l]){b.Eve[l]=[]}k.each(function(n,m){b.Eve[l].push(m)})}},h=Array.prototype,a=a||window.event,j;b.Eve={};b.module={};b.css={};b.config={debug:false,host:"webos.cn/{where}",file:"assets/js/build"};b.augment=function(l,k){return c.extend(true,l.prototype,k)};b.mix=function(l,k){return c.extend(true,l,k)};b.log=function(m,k,l){if(this.config.debug){if(l){m=l+": "+m}if(console.log){console[k&&console[k]?k:"log"](m)}}};b.augment(Array,{each:function(o,k){var l=0,n=this;if(k==undefined){for(var m=n[0];l<n.length&&o.call(n,l,m)!==false;m=n[++l]){}}else{for(;l<n.length;){if(o.apply(n[l++],k)===false){break}}}return n},map:function(p){var k=[],n,o=this;for(var l=0,m=o.length;l<m;l++){n=p.call(o,l,o[l]);if(n!==null){k[k.length]=n}}return k.concat.apply([],k)},trim:function(){return this.map(function(m,l){return l.replace(/^\s+/,"").replace(/\s+$/,"")})}});b.mix(b,{add:function(l,m,n){var k=this;if(!n){n={cover:false}}if(!n.require){n.require=[]}if(!n.file){n.file=k.config.file}k.build(n.require,function(){if(k.module[l]){if(n.cover){k.module[l]=m()}else{k.log("exsit","warn","module {"+l+"}")}}else{k.module[l]=m()}},n.file)},use:function(l,m,n){var k=this;if(!n){n={cover:false}}if(!n.require){n.require=[]}if(!n.file){n.file=k.config.file}k.build(n.require,function(){var o=k.load(l);return m.apply(k,c.isArray(o)?o:[o])},n.file)},load:function(o){var m=o.split(",").trim(),l=[],k=this;for(var n=0;n<m.length;n++){l.push(k.module[m[n]])}return l.length===1?l[0]:l},build:function(m,n,l){var k=this;if(l==undefined){l=k.config.file}m=m.map(function(p,o){if(/^http\:\/\//i.test(o)){return o}else{return"http://"+(k.config.host.replace("{where}",l)+"/"+o+".js").replace(/\/\//g,"/")}});k.loadScripts(m,{complete:n})},domReady:function(o,k,m){var l;if(document.addEventListener){l=function(){o.removeEventListener("DOMContentLoaded",l,false)};o.addEventListener("DOMContentLoaded",l,false);o.addEventListener("load",k,false);o.addEventListener("error",m,false)}else{if(document.attachEvent){l=function(){var p=o.readyState;if(/loaded|complete/i.test(p)){o.onreadystatechange=null;c.isFunction(n)&&n();k.call(o)}};var n=o.onreadystatechange;o.attachEvent("onreadystatechange",l)}}},loadScript:function(m,q,r){var l={},p=e.document,n=p.head||p.getElementsByTagName("head")[0],o=p.createElement("script"),k=this;if(c.isFunction(q)){l.success=q;if(r){l.charset=r}}else{if(c.isPlainObject(q)){l=q}}o.src=m;o.async=true;if(l.charset){o.charset=l.charset}if(l.success||l.error){k.domReady(o,function(){k.log(m,"info","script loaded ");c.isFunction(l.success)&&l.success.call(o)},function(){k.log(m,"warn","script can't load ");c.isFunction(l.error)&&l.error.call(o)})}n.insertBefore(o,n.firstChild);return o},loadScripts:function(o,m,n){if(!n){n=0}m=c.extend({success:null,error:null,complete:null,charset:"UTF-8"},m);if(o.length==0){return c.isFunction(m.complete)&&m.complete(0)}var k=o.length,l=this;if(n+1>k){c.isFunction(m.complete)&&m.complete(k)}else{l.loadScript(o[n],{success:function(){if(c.isFunction(m.success)){m.success(o[n],n+1,k)}l.loadScripts(o,m,++n)},error:function(){if(c.isFunction(m.error)){m.error(o[n],n+1,k)}l.loadScripts(o,m,++n)},charset:m.charset})}},loadCss:function(l,p){var o=document,m=o.head||o.getElementsByTagName("head")[0],n=o.createElement("link"),k=this;n.rel="stylesheet";n.href=l;n.type="text/css";n.async=true;if(window.attachEvent){k.domReady(n,p)}else{if(b.css[l]){b.css[l].callbacks.push(p)}else{b.css[l]={node:n,callbacks:[p]}}i()}m.appendChild(n)},loadCsses:function(p,l,o){if(!o){o=0}var k=p.length,m=this,n;if(c.isFunction(l)){n={complete:l}}else{n=c.extend({success:null,complete:null},l)}if(p.length==0){return c.isFunction(n.complete)&&n.complete(0)}if(o+1>k){c.isFunction(n.complete)&&n.complete(k)}else{m.loadCss(p[o],function(){if(c.isFunction(n.success)){n.success(p[o],o+1,k)}m.loadCsses(p,n,++o)})}}});c(document).ready(function(){f();d()});function f(){if(b.Eve.contextMenu){if(b.Eve.contextMenu.length>0){document.oncontextmenu=function(k){b.Eve.contextMenu.each(function(l,m){if(window.event){window.event.cancelBubble=true;window.event.returnValue=false}if(k&&k.stopPropagation&&k.preventDefault){k.stopPropagation();k.preventDefault()}m()})}}}}function d(){if(b.Eve.documentClick){if(b.Eve.documentClick.length>0){c(document).bind("click",function(k){b.Eve.documentClick.each(function(l,m){if((c(m.dom)[0]==k.target)||(c(k.target).parents(m.dom).length!==0)){}else{m.fn()}})})}}}function i(){if(!j){g()}else{b.log("css polling.. wait!","warn")}}function g(){var m=b.css,n=b,q=!!navigator.userAgent.match(/AppleWebKit/);for(var k in m){var t=m[k],l=t.node,r=t.callbacks,p=false;if(q){if(l.sheet){p=true}}else{if(l.sheet){try{if(l.sheet.cssRules){p=true}}catch(s){if(s.name==="NS_ERROR_DOM_SECURITY_ERR"){p=true}}}}if(p){j=undefined;var u=r;delete b.css[k];for(var o=0;o<u.length;o++){u[o].call(l)}}else{j=setTimeout(g,1000)}}}e.$$=e.syQuery=b})(jQuery,window);