(function(d){var a=function(){if(arguments.length==0){return}var g=arguments[0];if(a.event[g]&&d.isArray(a.event[g])){for(var f=1;f<arguments.length;f++){a.event[g].push(arguments[f])}}},c=c||window.event;a.event={contextMenu:[],documentClick:[]};a.module={};a.Evq=[];a.Config={debug:true,site:"http://syQuery.cn"};a.log=function(h,f,g){if(this.Config.debug){if(g){h=g+": "+h}if(console.log){console[f&&console[f]?f:"log"](h)}}};function b(f){if(a.event.contextMenu.length>0){document.oncontextmenu=function(h){for(var g=0;g<a.event.contextMenu.length;g++){if(window.event){window.event.cancelBubble=true;window.event.returnValue=false}if(h&&h.stopPropagation&&h.preventDefault){h.stopPropagation();h.preventDefault()}a.event.contextMenu[g]()}}}}function e(){if(a.event.documentClick.length>0){d(window.document).bind("click",function(h){for(var f=0;f<a.event.documentClick.length;f++){var g=a.event.documentClick[f];if((d(g.dom)[0]==h.target)||(d(h.target).parents(g.dom).length!==0)){continue}else{g.fn()}}})}}d(document).ready(function(){b();e()});d.extend(true,a,{later:function(g,f,h){f=f||0;return{id:(h)?setInterval(g,f):setTimeout(g,f),interval:h,cancel:function(){if(this.interval){clearInterval(r)}else{clearTimeout(r)}}}},scriptOnLoad:document.addEventListener?function(f,g){f.addEventListener("load",g,false)}:function(g,h){var f=g.onreadystatechange;g.onreadystatechange=function(){var i=g.readyState;if(/loaded|complete/i.test(i)){g.onreadystatechange=null;f&&f();h()}}},buildScript:function(f,p,j){var o=document,n=o.head||o.getElementsByTagName("head")[0],i=o.createElement("script"),h=p,k,m,g,q=this;if(d.isPlainObject(h)){p=h.success;k=h.error;m=h.timeout;j=h.charset}function l(){if(g){g.cancel();g=undefined}}i.src=f;i.async=true;if(j){i.charset=j}if(p||k){q.scriptOnLoad(i,function(){l();a.log(f,"info","script loaded ");d.isFunction(p)&&p.call(i)});if(d.isFunction(k)){if(o.addEventListener){i.addEventListener("error",function(){l();k.call(i)},false)}g=q.later(function(){g=undefined;k()},(m||1)*1000)}}n.insertBefore(i,n.firstChild);return i},add:function(h,i,g){var f=this;if(g!=undefined){return f.build(g,function(){return f.add(h,i)})}if(f.module[h]==undefined){f.module[h]=i()}else{f.log("exsit","warn","module {"+h+"}")}},use:function(j,m,h){var g=this,f=[],k=0,l;if(h!=undefined){return g.build(h,function(){return g.use(j,m)})}l=j.split(",");for(k=0;k<l.length;k++){f.push(a.module[l[k].replace(/^\s+/,"").replace(/\s+$/,"")])}if(m==undefined){return f.length===0?f[0]:f}return m.apply(g,f)},build:function(n,p){var l,h=n.require.length,f=0,g,m=true,j={};if(d.isFunction(p)){j.success=p}if(n.require!=undefined){for(l=0;l<h;l++){var k=n.require[l];if(k.substr(0,7).toLowerCase()!="http://"){k=this.Config.site+"/"+k+".js"}if(d.inArray(k,a.Evq)==-1){this.buildScript(k,function(){a.Evq.push(k);f++;d(this).remove();if(j.callback!=undefined&&d.isFunction(j.callback)){j.callback.call(undefined,f,h)}})}else{m=false;break}}function o(){if(h==f){clearTimeout(g);j.success()}else{o()}}if(m==true){g=setTimeout(o,500)}else{j.success()}}}});window.syQuery=a})(jQuery);